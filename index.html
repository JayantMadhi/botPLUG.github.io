<!--
<!DOCTYPE html>
<html lang="en">
<head>
<body>
    <div class = "Jordan1Container">
        <div class = "renderingContent"></div>
    </div>
    <script src = "./node_modules/three/build/three.js"></script>
    <script src = "./node_modules/three/examples/js/controls/OrbitControls.js"></script>
    <script src = './node_modules/three/examples/js/loaders/GLTFLoader.js'></script>
    <script src = './node_modules/three/examples/js/loaders/OBJLoader.js'></script>
    <script src = './node_modules/three/examples/js/effects/OutlineEffect.js'></script>
    <script src= "./node_modules/three/examples/js/postprocessing/Pass.js"></script>
    <script src= "./node_modules/three/examples/js/shaders/CopyShader.js"></script>
    <script src= "./node_modules/three/examples/js/postprocessing/ShaderPass.js"></script>
    <script src= "./node_modules/three/examples/js/postprocessing/EffectComposer.js"></script>
    <script src= "./node_modules/three/examples/js/postprocessing/RenderPass.js"></script>
    <script src= "./node_modules/three/examples/js/postprocessing/OutlinePass.js"></script>
    <script src= "./node_modules/three/examples/js/shaders/FXAAShader.js"></script>
    <script src= "./node_modules/three/examples/js/loaders/MTLLoader.js"></script>
    <script type = "module">
        
        const Jordan1THREEDpath = './3dshoeModels/Jordan1Model.glb';
        const Lebron9Path = './3dshoeModels/new-complete.obj';
        const Lebron9MaterialPath = './3dshoeModels/new-complete.mtl'

        let scene = new THREE.Scene();

        let camera = new THREE.PerspectiveCamera(3, window.innerWidth/ window.innerHeight, 0.1, 1000);
        camera.position.y = 10;
        camera.position.z = 150;

        let renderer = new THREE.WebGL1Renderer({antialias:true});
        renderer.setClearColor(0xFFFFFF);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.querySelector('.Jordan1Container').appendChild(renderer.domElement);

        let controls = new THREE.OrbitControls(camera, renderer.domElement);
        //controls.enableZoom = false;
        //controls.enablePan = false;

        let Jordan1PlaneGeometry = new THREE.PlaneGeometry(100, 100);
        let Jordan1PlaneMaterial = new THREE.MeshLambertMaterial({color: 0x000000});
        let Jordan1Mesh = new THREE.Mesh(Jordan1PlaneGeometry, Jordan1PlaneMaterial)
        Jordan1Mesh.rotation.x = 10;
        //scene.add(Jordan1Mesh);
        
        
        let Jordan1Loader = new THREE.GLTFLoader();

        let compose = new THREE.EffectComposer(renderer);
        //let selectedObjects = [objectGroup]
        let renderPass = new THREE.RenderPass(scene, camera);
        let outlinePass = new THREE.OutlinePass(new THREE.Vector2(window.innerWidth, window.innerHeight), scene, camera);
        outlinePass.renderToScreen = true;
        //outlinePass.selectedObjects = selectedObjects;

        outlinePass.edgeStrength = Number(10);
        outlinePass.edgeGlow = Number(0);
        outlinePass.edgeThickness = Number( 10 );
        outlinePass.pulsePeriod = Number( 0 )
        outlinePass.visibleEdgeColor.set(0x000000);
        outlinePass.hiddenEdgeColor.set(0x000000);

        let effectFXAA = new THREE.ShaderPass(THREE.FXAAShader);
		effectFXAA.uniforms[ 'resolution' ].value.set( 1 / window.innerWidth, 1 / window.innerHeight );

        let objectGroup = new THREE.Group();
        let MaterialLoader = new THREE.MTLLoader();
        MaterialLoader.load(
            Lebron9MaterialPath,
            (material)=>{
                console.log('Loaded Mesh Material')
                console.log(material);
                let OBJLoader = new THREE.OBJLoader();
                OBJLoader.setMaterials(material);
                OBJLoader.load(
                    Lebron9Path,
                    (lebron9)=>{
                        let Lebron9 = lebron9.children[0];
                        Lebron9.scale.x = Lebron9.scale.y = Lebron9.scale.z = 1;
                        Lebron9.up = new THREE.Vector3(0,0,1);;
                        //objectGroup.add(Lebron9); 
                        //outlinePass.selectedObjects = [Lebron9];
                        console.log(Lebron9);

                        window.addEventListener('keypress', (event)=>{
                            if(event.key === 'x'){
                                Lebron9.rotation.x += 0.01
                            }else if(event.key === 'y'){
                                Lebron9.rotation.y += 0.01
                            }else if(event.key === 'z'){
                                Lebron9.rotation.z += 0.01
                            }
                        })

                        scene.add(Lebron9);
                    },
                    (xhr)=>{
                        console.log(xhr.loaded/xhr.total);
                    },
                    (error)=>{
                        console.log('Error: ' + error);
                    }),
            (xhr)=>{
                console.log(xhr.loaded/xhr.total)
            },
            (error)=>{
                console.log('Error' + error)
            }
        })
        /*
        let OBJLoader = new THREE.OBJLoader();
        OBJLoader.load(
            Lebron9Path,
            (lebron9)=>{
                let Lebron9 = lebron9.children[0];
                console.log(Lebron9);
                Lebron9.scale.x = Lebron9.scale.y = Lebron9.scale.z = ;
                
                //objectGroup.add(Lebron9); 
                //outlinePass.selectedObjects = [Lebron9];
                //console.log(Lebron9);
                
                scene.add(Lebron9);
            },
            (xhr)=>{
                console.log(xhr.loaded/xhr.total);
            },
            (error)=>{
                console.log(error);
            });
        */

        /*await Jordan1Loader.load(
            Jordan1THREEDpath,
            (jordan1)=>{
                let Jordan1 = jordan1.scene.children[0];
                Jordan1.scale.x = Jordan1.scale.y = Jordan1.scale.z = 50;
                objectGroup.add(Jordan1); 
                outlinePass.selectedObjects = [Jordan1];
                console.log(Jordan1);
            },
            (xhr)=>{
                console.log(xhr.loaded/xhr.total);
            },
            (error)=>{
                console.log(error);
            });
        */
        //scene.add(objectGroup);
        
        console.log(outlinePass);

        compose.addPass(renderPass);
        compose.addPass(outlinePass);
        compose.addPass(effectFXAA);

        /*
        let compose = new THREE.EffectComposer(renderer);
        let selectedObjects = [objectGroup]
        let renderPass = new THREE.RenderPass(scene, camera);
        let outlinePass = new THREE.OutlinePass(new THREE.Vector2(window.innerWidth, window.innerHeight), scene, camera, selectedObjects);
        outlinePass.renderToScreen = true;loc
        outlinePass.selectedObjects = selectedObjects;

  
        compose.addPass(renderPass);
  
       compose.addPass(outlinePass);
  
       let params = {
  
        edgeStrength: 10,
  
           edgeGlow: 1,
  
           edgeThickness: 10.0,
  
           pulsePeriod: 1000,
  
           usePatternTexture: false
  
        };

        outlinePass.edgeStrength = params.edgeStrength;
        outlinePass.edgeGlow = params.edgeGlow;
        outlinePass.visibleEdgeColor.set(0x000000);
        outlinePass.hiddenEdgeColor.set(0x000000);
        */
           
        /*let loadedJordan1 =  Jordan1Loader.load(
            Jordan1THREEDpath,
            (jordan1)=>{
                Jordan1 = jordan1.scene.children[0];
                Jordan1.scale.x = Jordan1.scale.y = Jordan1.scale.z = 50;
                scene.add(Jordan1);       
            },
            (xhr)=>{
                console.log(xhr.loaded/xhr.total );
            },
            (error)=>{
                console.log(error);
            });
        */
        
        let light = new THREE.PointLight(0xFFFFFF);
        light.position.z = 50
        scene.add(light,1500);

        document.querySelector('body').style.overflow = 'hidden';
        
        let rotationAmount = 0.01;

        

        function render(){
            requestAnimationFrame(render);
            //objectGroup.rotation.y += rotationAmount
            compose.render(scene, camera);
            renderer.render(scene, camera);
        }

        window.addEventListener("resize", ()=>{
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            compose.setSize(window.innerWidth, window.innerHeight);
        })

        document.querySelector('canvas').addEventListener('click', ()=>{
            rotationAmount ? rotationAmount = 0 : rotationAmount = 0.01;
            console.log(rotationAmount);
        })


        render();
    </script>
</body>
</html>
-->
<!--BABYLON.JS-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <style>
        html, body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .Lebron9Container {
            width: 100%;
            height: 100%;
            touch-action: none;
            outline : none;
            position: fixed;
        }

        .botPLUGlogo {
          width: 150px;
          position: absolute;
          margin-left: -15px;
          margin-top: 0px;
          
        }

        .logo1{
            margin-top: 13px;
        }

        .logo2{
            margin-top: 26px;
        }

        .logo3{
            margin-top: 39px;
        }
    </style>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
    
</head>
<body>
    <img src = "./botPLUGLogo2.png" class = "botPLUGlogo logo1">
    <img src = "./botPLUGLogo2.png" class = "botPLUGlogo logo2">
    <img src = "./botPLUGLogo2.png" class = "botPLUGlogo logo3">

    <canvas class = "Lebron9Container" touch-action = "none"></canvas>
    
    <div></div>

    <script type = "module">

        let Lebron9Container = document.querySelector('.Lebron9Container');
        let engine = new BABYLON.Engine(Lebron9Container, true);

        let scene = new BABYLON.Scene(engine);
        scene.skipPointerMovePicking = true;
        scene.clearColor = 0x000000;

        let camera = new BABYLON.ArcRotateCamera('camera', -Math.PI / 2, Math.PI / 2.5  , 43, 
        new BABYLON.Vector3(0,0,0), scene);
        camera.attachControl(Lebron9Container, true);
        camera.upVector = new BABYLON.Vector3(0, 0, 1);
        camera.upperRadiusLimit = camera.lowerRadiusLimit = 43;


        let light = new BABYLON.HemisphericLight('light', new BABYLON.Vector3(0, 1, 0,), scene);
        light.intensity = 6;
	//check if accessing right repositor
        await BABYLON.SceneLoader.AppendAsync('./3Dshoedels/', 'Lebron9Centered.glb', scene);
        
        console.log('Lebron 9 Loaded');

        let Lebron9Mesh = scene.meshes[0];
        let Lebron9QueriedMesh = scene.getMeshByName('Mesh');


        Lebron9QueriedMesh.position.z = 5;

        camera.setTarget(Lebron9Mesh);

        Lebron9Mesh.rotationQuaternion = undefined;

        let highlightColor;
        !Math.floor((Math.random() * 10) / 5) ? highlightColor = new BABYLON.Color3(0, 165, 255) : highlightColor = new BABYLON.Color3(255, 0, 0) ;
        let highlightMesh = new BABYLON.HighlightLayer('highlight', scene);
        //add to hover event listener
        highlightMesh.addMesh(Lebron9QueriedMesh, highlightColor , false);
        camera.beta = Math.PI / 2;

        let rotationConstant = 0.01;


        scene.registerBeforeRender(()=>{
            Lebron9Mesh.rotation.z += rotationConstant;
        })

        engine.runRenderLoop(()=>{
            scene.render();
        })

        window.addEventListener('resize', ()=>{
            engine.resize();
        });
        
        window.addEventListener('click', ()=>{
            rotationConstant === 0.01 ? rotationConstant = 0 : rotationConstant = 0.01;
        });
    </script>
</body> 
</html>

